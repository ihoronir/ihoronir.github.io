{% extends "_base.html" %}

{% block base_config %}
{% set base_config_now = "entry" %}
{% set base_config_title = page.title %}
{% set base_config_stylesheets = ["/entry.css", "https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"] %}
{% endblock base_config %}

{% block base_main %}
<main class="base_main entry">
	<article class="entry_article">
		<header class="entry_article_header">
			<h1 class="entry_article_header_title">{{ page.title }}</h1>
			<p class="entry_article_header_meta">
			この記事の公開日：{{ page.date }}<br>
			この記事の最終編集日：{{ page.updated | default(value = page.date) }}
			</p>
		</header>
		{#
		<aside style="text-align: center; overflow: hidden; font-weight: bold; margin: 60px 0; background: #222; border: #303030 1px solid;">広告 Advertisement<br>
			<img src="/cover.jpg" width=728px height=90px>
		</aside>
		#}
		{{- page.content | safe}}
	</article>
	<aside class="entry_ref">
		{#
		<div style="text-align: center;font-weight: bold;">広告 Advertisement<br>
			<img src="/cover.jpg" width=336px height=280px>
		</div>
		#}
		<section class="entry_ref_toc">
			<h2 class="entry_ref_Section_header">目次</h2>
			<ul class="entry_ref_toc_list">
				{% for h1 in page.toc %}
				<li class="entry_ref_toc_list_Item">
					<a class="entry_ref_toc_list_Item_link" href="#{{h1.id | safe}}">{{ h1.title }}</a>
					{% if h1.children %}
					<ul class="entry_ref_toc_list_Item_list">
						{% for h2 in h1.children %}
						<li class="entry_ref_toc_list_Item_list_Item">
							<a class="entry_ref_toc_list_Item_list_Item_link" href="#{{h2.id | safe}}">{{ h2.title }}</a>
						</li>
						{% endfor %}
					</ul>
					{% endif %}
				</li>
				{% endfor %}
			</ul>
		</section>
	</aside>
</main>
{% endblock base_main %}
