<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ja">
	<title>ihoronir.github.io</title>
	<subtitle>Ihoronir&#x27;s website</subtitle>
	<link href="https://ihoronir.github.io/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://ihoronir.github.io"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2022-02-18T00:00:00+00:00</updated>
	<id>https://ihoronir.github.io/atom.xml</id>
	<entry xml:lang="ja">
		<title>【Arch Linux】systemd-bootでXBOOTLDRを使ってみた</title>
		<published>2022-02-18T00:00:00+00:00</published>
		<updated>2022-02-18T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/LWnHhSN7/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/LWnHhSN7/</id>
		<content type="html">&lt;h2 id=&quot;経緯&quot;&gt;経緯&lt;&#x2F;h2&gt;
&lt;p&gt;Windows と Arch Linux を systemd-boot でデュアルブートして使っていたのですが、先日 &lt;code&gt;pacman -Syu&lt;&#x2F;code&gt; を実行したら、エラーが出てパッケージの更新ができなくなってしまいました。エラーメッセージによると、 ESP パーティションの空き容量が足りず、 &lt;code&gt;linux&lt;&#x2F;code&gt; パッケージの更新ができないということでした。（何日か前に BIOS をアップデートしたときに、 BIOS をリカバリするためのファイル（？）が新しく生成されたのが原因ではないかと思っています。）&lt;&#x2F;p&gt;
&lt;p&gt;ESP パーティションを拡張することを検討したのですが、私の環境では ESP パーティションはディスク（正確には SSD ）の先頭にあって、そのすぐ後ろに Windows のパーティションがあるため、 ESP パーティションを拡張するためには Windows のパーティションの先頭位置を後ろにずらす必要があり、デュアルブートでそういうことをするのはリスキーな気がしたので、どうしたものかなーと思っていました。&lt;&#x2F;p&gt;
&lt;p&gt;GRUB などのブートローダーではカーネルイメージ（ &lt;code&gt;vmlinuz-linux&lt;&#x2F;code&gt; ）や initramfs （ &lt;code&gt;initramfs-linux.img&lt;&#x2F;code&gt; ）を ESP パーティションではなくルートパーティションに配置することができるので、こういった問題は起きにくいのかなと思うのですが、 systemd-boot では通常カーネルイメージを ESP パーティション内に配置するので、デュアルブートなどでパソコン出荷時に設定されたパーティショニングのまま使っている人は、こういう問題に直面することが結構あるのではないかと思いました。（私が使っているパソコンの ESP パーティションのサイズは、出荷時から100MiBに設定されていたので、カーネルイメージや initramfs を入れると結構ギリギリでした。）&lt;&#x2F;p&gt;
&lt;p&gt;これを機にブートローダーを GRUB に変えようかなとも思ったのですが、やっぱり systemd-boot のシンプルさが好きだったので、なんとかして systemd-boot のまま使える方法を探してみたところ、 &lt;strong&gt;XBOOTLDR&lt;&#x2F;strong&gt; パーティションを使うことでカーネルイメージや initramfs を ESP パーティションから分離できるということが分かったので、実際に使ってみました。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;XBOOTLDRとは&quot;&gt;XBOOTLDRとは&lt;&#x2F;h3&gt;
&lt;p&gt;XBOOTLDR パーティションは、 ESP パーティションの亜種（？）みたいなもので、 systemd-boot では通常カーネルイメージや initramfs を ESP パーティション内に配置しなければならないところを、 XBOOTLDR パーティションに配置することができる（ ESP パーティションから分離させられる）というものです。 ESP パーティションのサイズが小さすぎてカーネルイメージや initramfs が入り切らないという場合に使うのが有効です。&lt;&#x2F;p&gt;
&lt;p&gt;XBOOTLDR パーティションを作るには、 ESP パーティションと同じディスク上にパーティションを作って FAT32 でフォーマットし、 PARTTYPE に &lt;code&gt;bc13c2ff-59e6-4262-a352-b275fd6f7172&lt;&#x2F;code&gt; を設定します。パーティションのサイズは、カーネルイメージや initramfs が十分に余裕を持って収まるように（500MiBくらい？）確保します。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;作業手順&quot;&gt;作業手順&lt;&#x2F;h2&gt;
&lt;p&gt;実際に私のパソコンの systemd-boot で XBOOTLDR パーティションを使うために行った作業を書きます。同じようなことをされる方は、必ずバックアップを取ってから作業してください。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;パーティションの準備&quot;&gt;パーティションの準備&lt;&#x2F;h3&gt;
&lt;p&gt;まずは XBOOTLDR パーティションを作成するための領域を確保しました。具体的には、ディスクの最後尾にあった Windows の回復パーティションを消し飛ばしました。 Windows の回復パーティションは今まで大事に残していたのですが、手元にリカバリ用の USB もあるし別に要らないかなって思って消しました。&lt;&#x2F;p&gt;
&lt;p&gt;XBOOTLDR パーティションは500MiB確保しました。あとは普通に FAT32 で初期化して、 PARTTYPE に &lt;code&gt;bc13c2ff-59e6-4262-a352-b275fd6f7172&lt;&#x2F;code&gt; を設定しました。&lt;&#x2F;p&gt;
&lt;p&gt;パーティションの操作は GParted のライブイメージを焼いた USB 使って行いました。 GUI があると楽ですよね…&lt;&#x2F;p&gt;
&lt;p&gt;PARTTYPE に &lt;code&gt;bc13c2ff-59e6-4262-a352-b275fd6f7172&lt;&#x2F;code&gt; を設定する方法ですが、 GParted では PARTTYPE を設定したいパーティションを右クリックして Manage Flags をクリックし、 &lt;code&gt;bls_boot&lt;&#x2F;code&gt; を選択することで可能です。なお、 PARTTYPE の GUID は &lt;code&gt;lsblk&lt;&#x2F;code&gt; コマンドの &lt;code&gt;-o&lt;&#x2F;code&gt; オプションで &lt;code&gt;PARTTYPE&lt;&#x2F;code&gt; を指定して &lt;code&gt;lsblk -o NAME,PARTTYPE&lt;&#x2F;code&gt; のような感じでコマンドを打って確認できます。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;systemd-boot_の削除&quot;&gt;systemd-boot の削除&lt;&#x2F;h3&gt;
&lt;p&gt;次のコマンドで EFI パーティションから systemd-boot 関連のファイルを削除しました。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;# bootctl remove
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;UEFI 変数とかの設定（？）も消えるみたいです。&lt;&#x2F;p&gt;
&lt;p&gt;個別の Linux 用のローダー設定ファイル（ &lt;code&gt;&#x2F;boot&#x2F;loader&#x2F;entries&#x2F;*.conf&lt;&#x2F;code&gt; ）は残ります。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ファイルシステムのマウント&quot;&gt;ファイルシステムのマウント&lt;&#x2F;h3&gt;
&lt;p&gt;Arch Linux を起動して、 &lt;code&gt;&#x2F;boot&lt;&#x2F;code&gt; にマウントしていた ESP パーティションを &lt;code&gt;&#x2F;efi&lt;&#x2F;code&gt; にマウントし直し、代わりに XBOOTLDR パーティションを &lt;code&gt;&#x2F;boot&lt;&#x2F;code&gt; にマウントしました。&lt;&#x2F;p&gt;
&lt;p&gt;次に、 &lt;code&gt;&#x2F;etc&#x2F;fstab&lt;&#x2F;code&gt; を編集して、次回以降起動したときに自動で現在の構成になるように設定しました。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;wiki.archlinux.jp&#x2F;index.php&#x2F;Fstab&quot;&gt;ArchWiki&lt;&#x2F;a&gt; に fstab の書き方に関する詳しい情報があります。私の環境では次のようにしてみました。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;# Static information about the filesystems.
&lt;&#x2F;span&gt;&lt;span&gt;# See fstab(5) for details.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# &amp;lt;file system&amp;gt;                           &amp;lt;dir&amp;gt;  &amp;lt;type&amp;gt; &amp;lt;options&amp;gt;    &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;UUID=0baf7dcb-8769-4513-9cfe-7cfd5dcd8acc  &#x2F;      ext4   rw,relatime  0      1
&lt;&#x2F;span&gt;&lt;span&gt;UUID=8C01-72F2                             &#x2F;efi   vfat   rw,relatime  0      2
&lt;&#x2F;span&gt;&lt;span&gt;UUID=1500-C54B                             &#x2F;boot  vfat   rw,relatime  0      2
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;個人的に fstab では UUID を使う派です。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ファイルの引っ越し&quot;&gt;ファイルの引っ越し&lt;&#x2F;h3&gt;
&lt;p&gt;EFI パーティション（ &lt;code&gt;&#x2F;efi&lt;&#x2F;code&gt; ）直下の &lt;code&gt;initramfs-linux-fallback.img&lt;&#x2F;code&gt;, &lt;code&gt;initramfs-linux.img&lt;&#x2F;code&gt;, &lt;code&gt;intel-ucode.img&lt;&#x2F;code&gt;, &lt;code&gt;vmlinuz-linux&lt;&#x2F;code&gt; の4つのファイルを XBOOTLDR パーティション（ &lt;code&gt;&#x2F;boot&lt;&#x2F;code&gt; ）直下に移動させました。（ &lt;code&gt;intel-ucode.img&lt;&#x2F;code&gt; は CPU のマイクロコードで、CPUメーカーによって名前が違います。 &lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;wiki.archlinux.jp&#x2F;index.php&#x2F;%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%B3%E3%83%BC%E3%83%89&quot;&gt;ArchWiki&lt;&#x2F;a&gt; にマイクロコードに関する詳しい情報があります。）&lt;&#x2F;p&gt;
&lt;p&gt;また、個別の Linux 用のローダー設定ファイル（ &lt;code&gt;&#x2F;efi&#x2F;loader&#x2F;entries&#x2F;*.conf&lt;&#x2F;code&gt; ）は EFI パーティションから、 XBOOTLDR パーティション内（ &lt;code&gt;&#x2F;boot&#x2F;loader&#x2F;entries&#x2F;*.conf&lt;&#x2F;code&gt; ）に移動させました。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;systemd-boot_のインストール&quot;&gt;systemd-boot のインストール&lt;&#x2F;h3&gt;
&lt;p&gt;次のコマンドで、 systemd-boot 関連のファイルを EFI パーティションと XBOOTLDR パーティションにインストールしました。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;# bootctl --esp-path=&#x2F;efi --boot-path=&#x2F;boot install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;systemd-boot_の設定&quot;&gt;systemd-boot の設定&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;wiki.archlinux.jp&#x2F;index.php&#x2F;Systemd-boot#.E3.83.AD.E3.83.BC.E3.83.80.E3.83.BC.E8.A8.AD.E5.AE.9A&quot;&gt;ArchWiki&lt;&#x2F;a&gt; を参考に systemd-boot 関連の設定ファイルを作成・編集しました。私の環境での設定を紹介します。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;&#x2F;efi&#x2F;loader&#x2F;loader.conf&lt;&#x2F;code&gt; は次のようにしました。 &lt;strong&gt;EFI パーティション（ &lt;code&gt;&#x2F;efi&lt;&#x2F;code&gt; ）内&lt;&#x2F;strong&gt;に配置しています。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;default arch
&lt;&#x2F;span&gt;&lt;span&gt;timeout 3
&lt;&#x2F;span&gt;&lt;span&gt;editor no
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;default&lt;&#x2F;code&gt; ：デフォルトで選択されるエントリ&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;timeout&lt;&#x2F;code&gt; ：デフォルトエントリが起動するまでの時間（秒）&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;editor&lt;&#x2F;code&gt; ：カーネルパラメータの編集を許可するか（ &lt;code&gt;yes&lt;&#x2F;code&gt; にすると誰でも簡単に root 権限を取得できてしまうので &lt;code&gt;no&lt;&#x2F;code&gt; が推奨）&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;code&gt;&#x2F;boot&#x2F;loader&#x2F;entries&#x2F;arch.conf&lt;&#x2F;code&gt; は次のようにしました。 &lt;strong&gt;XBOOTLDR パーティション（ &lt;code&gt;&#x2F;boot&lt;&#x2F;code&gt; ）内&lt;&#x2F;strong&gt;に配置しています。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;title   Arch Linux
&lt;&#x2F;span&gt;&lt;span&gt;linux   &#x2F;vmlinuz-linux
&lt;&#x2F;span&gt;&lt;span&gt;initrd  &#x2F;intel-ucode.img
&lt;&#x2F;span&gt;&lt;span&gt;initrd  &#x2F;initramfs-linux.img
&lt;&#x2F;span&gt;&lt;span&gt;options root=UUID=e4a4ca48-722b-44a0-9c7b-f745c0d0209d rw
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;title&lt;&#x2F;code&gt; ：ブートメニューに表示する名前&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;linux&lt;&#x2F;code&gt; ：カーネルイメージのパス&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;initrd&lt;&#x2F;code&gt; ： CPU のマイクロコードと initramfs のパス（ CPU のマイクロコードを上に書く。）&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;options&lt;&#x2F;code&gt; ：カーネルパラメータ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;code&gt;linux&lt;&#x2F;code&gt; と &lt;code&gt;initrd&lt;&#x2F;code&gt; は &lt;code&gt;&#x2F;boot&lt;&#x2F;code&gt; を root とする絶対パスで指定します。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;確認&quot;&gt;確認&lt;&#x2F;h3&gt;
&lt;p&gt;systemd-boot が正しく設定されているか、次の2つのコマンドを使って確認しました。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;$ bootctl status
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;$ bootctl list
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;確認が終わったら、パソコンを再起動しました。カーネルイメージや initramfs を ESP パーティションから分離しつつ、 systemd-boot を使って無事に Windows と ArchLinux のデュアルブート環境を構成することができていました。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;感想&quot;&gt;感想&lt;&#x2F;h2&gt;
&lt;p&gt;XBOOTLDR パーティションは聞いたこともなかったので、うまく動作するか不安でしたが、意外とすんなり使うことができたので驚きました。 Windows とデュアルブートしている関係で、 ESP パーティションにカーネルイメージや initramfs が入り切らないという人にとっては、とても重宝する機能だと思いました。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;参考にしたページ&quot;&gt;参考にしたページ&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;wiki.archlinux.jp&#x2F;index.php&#x2F;Systemd-boot&quot;&gt;systemd-boot - ArchWiki&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;bbs.archlinux.org&#x2F;viewtopic.php?id=254374&quot;&gt;Systemd-Boot Installation XBOOTLDR &#x2F; Forum &amp;amp; Wiki discussion &#x2F; Arch Linux Forums&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;systemd.io&#x2F;BOOT_LOADER_SPECIFICATION&#x2F;&quot;&gt;Boot Loader Specification&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="ja">
		<title>【画像テスト】飛鳥Ⅱ・兵庫県立美術館・神戸発電所</title>
		<published>2022-02-09T00:00:00+00:00</published>
		<updated>2022-02-09T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/38areB63/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/38areB63/</id>
		<content type="html">&lt;h2 id=&quot;飛鳥Ⅱ&quot;&gt;飛鳥Ⅱ&lt;&#x2F;h2&gt;
&lt;p&gt;これは飛鳥Ⅱです。&lt;&#x2F;p&gt;







&lt;a href=&quot;DSCN5709.JPG&quot; target=&quot;_blank&quot;&gt;
    &lt;img
    sizes=&quot;(min-width: 924px) 832px, (min-width: 760px) calc(100vw - 92px), calc(100vw - 24px)&quot;
    srcset=&quot;&amp;#x2F;processed_images&amp;#x2F;3eb113e88b5347ec00.webp 312w,&amp;#x2F;processed_images&amp;#x2F;b0869545fb91c31f00.webp 624w,&amp;#x2F;processed_images&amp;#x2F;a57b8967d8a8248a00.webp 832w,&amp;#x2F;processed_images&amp;#x2F;0d25bd22cd07e84100.webp 936w,&amp;#x2F;processed_images&amp;#x2F;2bbc2a744e56829800.webp 1248w,&amp;#x2F;processed_images&amp;#x2F;b173bc54d50925a700.webp 1664w,&amp;#x2F;processed_images&amp;#x2F;aad6d71e2c296d0100.webp 2496w&quot;
    width=&quot;4608&quot; height=&quot;3456&quot; alt=&quot;飛鳥Ⅱ&quot;
    decoding=&quot;async&quot;&gt;
&lt;&#x2F;a&gt;
&lt;h2 id=&quot;兵庫県立美術館&quot;&gt;兵庫県立美術館&lt;&#x2F;h2&gt;
&lt;p&gt;兵庫県立美術館です。&lt;&#x2F;p&gt;









&lt;a href=&quot;DSCN4360.JPG&quot; target=&quot;_blank&quot;&gt;
    &lt;img
    sizes=&quot;(min-width: 924px) 832px, (min-width: 760px) calc(100vw - 92px), calc(100vw - 24px)&quot;
    srcset=&quot;&amp;#x2F;processed_images&amp;#x2F;e795bf0d641e1cc000.webp 312w,&amp;#x2F;processed_images&amp;#x2F;b2bdd9977674ffd100.webp 624w,&amp;#x2F;processed_images&amp;#x2F;c9e4fe4b13ae0b7300.webp 832w,&amp;#x2F;processed_images&amp;#x2F;4a9ab38b5d59e96000.webp 936w,&amp;#x2F;processed_images&amp;#x2F;660c72162462d93200.webp 1248w,&amp;#x2F;processed_images&amp;#x2F;6c96d87b725d681300.webp 1664w,&amp;#x2F;processed_images&amp;#x2F;63721e7cc16ced6c00.webp 2496w&quot;
    width=&quot;4608&quot; height=&quot;3456&quot; alt=&quot;兵庫県立美術館&quot;
    decoding=&quot;async&quot;&gt;
&lt;&#x2F;a&gt;
&lt;h2 id=&quot;神戸発電所&quot;&gt;神戸発電所&lt;&#x2F;h2&gt;
&lt;p&gt;写っている煙突は神戸発電所のものです。&lt;&#x2F;p&gt;











&lt;a href=&quot;DSCN5511.JPG&quot; target=&quot;_blank&quot;&gt;
    &lt;img
    sizes=&quot;(min-width: 924px) 832px, (min-width: 760px) calc(100vw - 92px), calc(100vw - 24px)&quot;
    srcset=&quot;&amp;#x2F;processed_images&amp;#x2F;0fd23b9b8bf05d4300.webp 312w,&amp;#x2F;processed_images&amp;#x2F;d0624853fc85bee800.webp 624w,&amp;#x2F;processed_images&amp;#x2F;cc4d6f8af4faf7e000.webp 832w,&amp;#x2F;processed_images&amp;#x2F;d481a0b327faa0c900.webp 936w,&amp;#x2F;processed_images&amp;#x2F;656eb69144600a5900.webp 1248w,&amp;#x2F;processed_images&amp;#x2F;0cc79687791867ab00.webp 1664w,&amp;#x2F;processed_images&amp;#x2F;620fed0a3a036b5000.webp 2496w&quot;
    width=&quot;3456&quot; height=&quot;4608&quot; alt=&quot;神戸発電所&quot;
    loading=&quot;lazy&quot;&gt;
&lt;&#x2F;a&gt;
</content>
	</entry>
	<entry xml:lang="ja">
		<title>【C言語】碁盤目状の道路の最短経路数を求める</title>
		<published>2021-11-12T00:00:00+00:00</published>
		<updated>2021-11-19T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/DTsjrytj/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/DTsjrytj/</id>
		<content type="html">&lt;h2 id=&quot;まえがき&quot;&gt;まえがき&lt;&#x2F;h2&gt;
&lt;p&gt;プログラミングの練習として、碁盤目状に道路が引かれた街の、ある交差点から別の交差点までの最短経路の数を求めてみます。いくつか実装例を考えたので、同じようなことをしている誰かの参考になれば幸いです。使用するプログラミング言語はC言語です。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;やりたいこと&quot;&gt;やりたいこと&lt;&#x2F;h2&gt;
&lt;p&gt;京都や札幌のような、碁盤目状に道路が引かれた街を考えます。&lt;&#x2F;p&gt;
&lt;p&gt;具体的には、東西と南北の2方向に道路が並行して走っており、交差点で道路は直交します。また、碁盤目のマスの幅はどこを見ても等しいものとします。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;入力&quot;&gt;入力&lt;&#x2F;h3&gt;
&lt;p&gt;以下の2つの整数が与えられます。どちらの値も碁番目のマスの幅を1とします。また、必ず0以上の値をとります。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;2つの交差点間の東西方向の距離&lt;&#x2F;li&gt;
&lt;li&gt;2つの交差点間の南北方向の距離&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;出力&quot;&gt;出力&lt;&#x2F;h3&gt;
&lt;p&gt;与えられた入力から次の1つの整数を出力します。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;2つの交差点間の最短経路数&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;例&quot;&gt;例&lt;&#x2F;h3&gt;
&lt;p&gt;図中の交差点Aと交差点Bの間の最短経路数を考えます。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot;&gt;&lt;code&gt;&lt;span&gt;  |  |  |  |  |
&lt;&#x2F;span&gt;&lt;span&gt;--+--A--+--+--+--
&lt;&#x2F;span&gt;&lt;span&gt;  |  |  |  |  |
&lt;&#x2F;span&gt;&lt;span&gt;--+--+--+--B--+--
&lt;&#x2F;span&gt;&lt;span&gt;  |  |  |  |  |    ↑北
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;入力は次の2つの整数です。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;AB間の東西方向の距離：2&lt;&#x2F;li&gt;
&lt;li&gt;AB間の南北方向の距離：1&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;出力は次の1つの整数になります。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;AB間の最短経路数：3&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;組み合わせによる実装例&quot;&gt;組み合わせによる実装例&lt;&#x2F;h2&gt;
&lt;p&gt;実装例では、変数名・仮引数名を次のように命名しています。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;h&lt;&#x2F;code&gt; ：2つの交差点間の東西方向の距離&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;v&lt;&#x2F;code&gt; ：2つの交差点間の南北方向の距離&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;n&lt;&#x2F;code&gt; ：組み合わせで、選ぶもとの集合の元の個数&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;r&lt;&#x2F;code&gt; ：組み合わせで、選ぶ個数&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;このとき、求めたい最短経路数は、 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;&#x2F;mi&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;h&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;h&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 と 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;v&lt;&#x2F;mi&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;v&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 を用いて 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;&#x2F;mi&gt;&lt;mo&gt;+&lt;&#x2F;mo&gt;&lt;mi&gt;v&lt;&#x2F;mi&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;v&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;{}_{h+v} \mathrm{C}_v&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8917em;vertical-align:-0.2083em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3361em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;h&lt;&#x2F;span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 で表されます。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;for_ループによる実装&quot;&gt;for ループによる実装&lt;&#x2F;h3&gt;
&lt;p&gt;次の式で 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;{}_n \mathrm{C}_r&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 を計算することできます。&lt;&#x2F;p&gt;









&lt;p&gt;

&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot; display=&quot;block&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;mo&gt;=&lt;&#x2F;mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;&#x2F;mo&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;mo&gt;+&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;&#x2F;mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;&#x2F;mo&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;mo&gt;+&lt;&#x2F;mo&gt;&lt;mn&gt;2&lt;&#x2F;mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;&#x2F;mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;&#x2F;mo&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;mo&gt;+&lt;&#x2F;mo&gt;&lt;mn&gt;3&lt;&#x2F;mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;&#x2F;mo&gt;&lt;mo&gt;⋯&lt;&#x2F;mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;&#x2F;mo&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;&#x2F;mo&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;mrow&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo&gt;⋅&lt;&#x2F;mo&gt;&lt;mn&gt;2&lt;&#x2F;mn&gt;&lt;mo&gt;⋅&lt;&#x2F;mo&gt;&lt;mn&gt;3&lt;&#x2F;mn&gt;&lt;mo&gt;⋯&lt;&#x2F;mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;&#x2F;mo&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;&#x2F;mo&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;mfrac&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;{}_n \mathrm{C}_r = \frac{(n-r+1)(n-r+2)(n-r+3) \cdots (n-1)n}
                         {   1   \cdot2 \cdot3  \cdots (r-1)r}&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:2.363em;vertical-align:-0.936em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.427em;&quot;&gt;&lt;span style=&quot;top:-2.314em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;⋅&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;⋅&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;minner&quot;&gt;⋯&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-3.677em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;&#x2F;span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;&#x2F;span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;&#x2F;span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;&#x2F;span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;minner&quot;&gt;⋯&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;&#x2F;span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.936em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;

&lt;&#x2F;p&gt;

&lt;p&gt;これをそのまま for ループで実装したのが、次のコードです。分母と分子を分けて求め、最後に分子を分母で割っています。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;combination(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;n, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;r) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; a = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, b = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; i;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(i = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;; i &amp;lt;= r; i ++) {
&lt;&#x2F;span&gt;&lt;span&gt;        a *= n - r + i;
&lt;&#x2F;span&gt;&lt;span&gt;        b *= i;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt; a &#x2F; b;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;main(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; h, v;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の東西方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;h);
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の南北方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;v);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の最短経路数：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e3bbab;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, combination(h + v, v));
&lt;&#x2F;span&gt;&lt;span&gt;    
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;この実装は、入力の値が少しでも大きくなると、すぐに &lt;code&gt;combination&lt;&#x2F;code&gt; 関数内の変数 &lt;code&gt;a&lt;&#x2F;code&gt;, &lt;code&gt;b&lt;&#x2F;code&gt; が桁溢れしてしまうという問題があります。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;再帰による実装&quot;&gt;再帰による実装&lt;&#x2F;h3&gt;
&lt;p&gt;for ループによる実装の桁溢れ問題を解決するため、 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;{}_n \mathrm{C}_r&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 の再帰的定義に基づいて組み合わせを計算してみます。 







&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;{}_n \mathrm{C}_r&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;



 は次のように再帰的に定義されます。&lt;&#x2F;p&gt;









&lt;p&gt;

&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot; display=&quot;block&quot;&gt;&lt;semantics&gt;&lt;mtable rowspacing=&quot;0.25em&quot; columnalign=&quot;right left&quot; columnspacing=&quot;0em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mn&gt;0&lt;&#x2F;mn&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;mstyle&gt;&lt;&#x2F;mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mo&gt;=&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;mstyle&gt;&lt;&#x2F;mtd&gt;&lt;&#x2F;mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;msub&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;mstyle&gt;&lt;&#x2F;mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mo&gt;=&lt;&#x2F;mo&gt;&lt;msub&gt;&lt;mrow&gt;&lt;&#x2F;mrow&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;msub&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;C&lt;&#x2F;mi&gt;&lt;mrow&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;msub&gt;&lt;mo&gt;×&lt;&#x2F;mo&gt;&lt;mfrac&gt;&lt;mi&gt;n&lt;&#x2F;mi&gt;&lt;mi&gt;r&lt;&#x2F;mi&gt;&lt;&#x2F;mfrac&gt;&lt;&#x2F;mrow&gt;&lt;&#x2F;mstyle&gt;&lt;&#x2F;mtd&gt;&lt;&#x2F;mtr&gt;&lt;&#x2F;mtable&gt;&lt;annotation encoding=&quot;application&#x2F;x-tex&quot;&gt;\begin{split}
    {}_n \mathrm{C}_0 &amp;amp; = 1\\
    {}_n \mathrm{C}_r &amp;amp; = {}_{n-1} \mathrm{C}_{r-1} \times \frac{n}{r}
\end{split}&lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.5936em;vertical-align:-1.5468em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-r&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.0468em;&quot;&gt;&lt;span style=&quot;top:-4.3143em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1076em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-2.5468em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1076em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5468em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;col-align-l&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.0468em;&quot;&gt;&lt;span style=&quot;top:-4.3143em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1076em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-2.5468em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1076em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;&#x2F;span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathrm&quot;&gt;C&lt;&#x2F;span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;&#x2F;span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mbin&quot;&gt;×&lt;&#x2F;span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.1076em;&quot;&gt;&lt;span style=&quot;top:-2.314em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span style=&quot;top:-3.677em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.686em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5468em;&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;

&lt;&#x2F;p&gt;

&lt;p&gt;この定義を使って再帰関数で実装したのが、次のコードです。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;combination(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;n, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;r) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(r == &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;combination(n - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, r - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; n &#x2F; r;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;main(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; h, v;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の東西方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;h);
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の南北方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;v);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の最短経路数：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e3bbab;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, combination(h + v, v));
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;for ループを使った実装では対応しきれなかった大きな入力にも対応するようになりました。コードの見通しも良くなったのではないでしょうか。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;「書き込み方式」による実装例&quot;&gt;「書き込み方式」による実装例&lt;&#x2F;h2&gt;
&lt;p&gt;「書き込み方式」で最短経路数を求められる原理は、下記ウェブページに書かれています。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;manabitimes.jp&#x2F;math&#x2F;962&quot;&gt;道順の場合の数を求めるテクニック | 高校数学の美しい物語&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;「書き込み方式」を今回の問題に当てはめる上で重要なポイントは次の2つです。&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;スタート地点から見て、東西方向または南北方向の距離が0であれば、その交差点にたどり着く最短経路数は1である。&lt;&#x2F;li&gt;
&lt;li&gt;スタート地点から見て、東西方向・南北方向の距離がどちらも0でなければ、その交差点にたどり着く最短経路数は、その直前に通り過ぎうる2つの交差点それぞれにたどり着く最短経路数の和である。&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;これをそのまま再帰関数で実装したのが、次のコードです。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;route(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;h, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;v) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(h == &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;|| v == &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;route(h - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, v) + route(h, v - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;main(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; h, v;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の東西方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;h);
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の南北方向の距離：&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); fflush(stdout); scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;v);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;2つの交差点間の最短経路数：&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e3bbab;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, route(h, v));
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;個人的には、この実装が一番直感的で分かりやすいと思います。ただ、効率は悪いです。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;あとがき&quot;&gt;あとがき&lt;&#x2F;h2&gt;
&lt;p&gt;いろいろな方法で碁盤目状の道路の最短経路数を求めてみました。再帰を使うと、簡単に問題を解決できたので、再帰は便利だなと思いました。&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="ja">
		<title>秋がはじまるよ</title>
		<published>2021-10-15T00:00:00+00:00</published>
		<updated>2021-10-15T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/P9SCQGxM/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/P9SCQGxM/</id>
		<content type="html">&lt;h2 id=&quot;秋の空&quot;&gt;秋の空&lt;&#x2F;h2&gt;
&lt;p&gt;ようやく気温が下がってきて、秋っぽさを感じられるようになってきました。秋の空って雲が少なくて、明るくて気持ちが良いです。一番好きな季節かも。&lt;&#x2F;p&gt;
&lt;p&gt;夏の真っ青な青空もいいけど、秋のライトブルーな空もいいよね！これから木々が紅葉していけばなおさら木の葉の鮮やかな色彩に空の色がマッチして、最高だろうなぁ。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;文章を書く力&quot;&gt;文章を書く力&lt;&#x2F;h2&gt;
&lt;p&gt;ここまでこの記事を読んできた皆さんならお察しかと思いますが、僕の文章力はかなり不足しています。なんで、ブログを書くことを通して文章力をつけていきたいなという所存です。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ところで&quot;&gt;ところで&lt;&#x2F;h2&gt;
&lt;p&gt;書くことがなくなってきました。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;そうだ&quot;&gt;そうだ&lt;&#x2F;h2&gt;
&lt;p&gt;最近聴いてる曲でも紹介しようかな。&lt;&#x2F;p&gt;
&lt;iframe width=&quot;312&quot; height=&quot;176&quot; src=&quot;https:&#x2F;&#x2F;ext.nicovideo.jp&#x2F;thumb&#x2F;sm20658500&quot; scrolling=&quot;no&quot; style=&quot;border:solid 1px #ccc;&quot; frameborder=&quot;0&quot;&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.nicovideo.jp&#x2F;watch&#x2F;sm20658500&quot;&gt;【初音ミクappend】　雀色コンデンサ　【オリジナル曲】&lt;&#x2F;a&gt;&lt;&#x2F;iframe&gt;
&lt;iframe width=&quot;312&quot; height=&quot;176&quot; src=&quot;https:&#x2F;&#x2F;ext.nicovideo.jp&#x2F;thumb&#x2F;sm13077134&quot; scrolling=&quot;no&quot; style=&quot;border:solid 1px #ccc;&quot; frameborder=&quot;0&quot;&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.nicovideo.jp&#x2F;watch&#x2F;sm13077134&quot;&gt;【初音ミクappend】 Ameto 【オリジナル曲】&lt;&#x2F;a&gt;&lt;&#x2F;iframe&gt;
&lt;p&gt;最近って書いたけど、嘘です。最近に限らず前から聴いてます。まあそれはともかく &lt;a rel=&quot;noopener&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;twitter.com&#x2F;whoosrockq&quot;&gt;whoo さん&lt;&#x2F;a&gt;の曲はどれも本当に良いのでぜひ聴いてください！&lt;&#x2F;p&gt;
&lt;p&gt;音楽を聴いていたらもう少し書く元気が出てきた！&lt;&#x2F;p&gt;
&lt;h2 id=&quot;年末に向けて&quot;&gt;年末に向けて&lt;&#x2F;h2&gt;
&lt;p&gt;今は10月中旬なので、実はもうあと2ヶ月ちょいで今年も終わりです。でも自分にはまだ全然そんな実感がありません。毎年そうだけど、全然気が付かないうちに11月になり、12月になって、一年が終わってしまいます。&lt;&#x2F;p&gt;
&lt;p&gt;とはいえ人間含め動物たちは季節の変化に敏感なもので、気温や日の入り時刻が変化するとともに、寒い冬が近づいているということを本能的に感じ取ってしまいますよね。そんな現実から目を背けたくて、ハロウィーンとか学校の文化祭とかのイベントを必死でやっているのかもなぁ、そういうイベントに夢中になっているからあっと言う間に時間が過ぎていくのかもなぁ、と思う今日この頃です。（「今日この頃です」←便利フレーズ）&lt;&#x2F;p&gt;
&lt;h2 id=&quot;しめくくり&quot;&gt;しめくくり&lt;&#x2F;h2&gt;
&lt;p&gt;来週から気温がガクッと下がる、ということを人から聞いたので、風邪をひかないように気をつけたいですね。それでは良い週末を！&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="ja">
		<title>【C言語】switch文のフォールスルーの便利かもしれない使い方</title>
		<published>2021-10-13T00:00:00+00:00</published>
		<updated>2021-10-13T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/BjDN9gTr/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/BjDN9gTr/</id>
		<content type="html">&lt;h2 id=&quot;まえがき&quot;&gt;まえがき&lt;&#x2F;h2&gt;
&lt;p&gt;switch 文のフォールスルーの便利かもしれない使い方を発見したので紹介します。使用するプログラミング言語はC言語です。&lt;&#x2F;p&gt;
&lt;p&gt;一般的には switch 文でフォールスルーを使うことはバグの温床として忌避されているような気がするので、そういった意味では今回紹介するコードはあんまり良くないかもしれないですが、まあ話半分で読んでもらえたらなと思います。（いい加減ですみません！）&lt;&#x2F;p&gt;
&lt;h2 id=&quot;フォールスルーとは&quot;&gt;フォールスルーとは&lt;&#x2F;h2&gt;
&lt;p&gt;そもそもフォールスルーというのは、「 switch 文で break を書かなかった場合に制御が switch 文から抜け出さず、後続の case に続く文が実行される。」ことを指します。次に示すコードが例です。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;main(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; num;
&lt;&#x2F;span&gt;&lt;span&gt;    scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;num);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;switch &lt;&#x2F;span&gt;&lt;span&gt;(num) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;: puts(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;hoge&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;: puts(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;fuga&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;: puts(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;foo&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;: puts(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;bar&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;# 入力
&lt;&#x2F;span&gt;&lt;span&gt;1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;# 出力
&lt;&#x2F;span&gt;&lt;span&gt;hoge
&lt;&#x2F;span&gt;&lt;span&gt;fuga
&lt;&#x2F;span&gt;&lt;span&gt;foo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;入力が &lt;code&gt;1&lt;&#x2F;code&gt; だったので switch 文の中の &lt;code&gt;case 1:&lt;&#x2F;code&gt; 以降の文が、 break が登場するまで実行されました。こんな感じで case に対応する break を意図的に省くことで、制御が次の case へと落ちていくようなプログラムを書くことができます。これがフォールスルーです。&lt;&#x2F;p&gt;
&lt;p&gt;フォールスルーを使うと「日付を入力するとその日がその年の何日目かを出力するプログラム」をシンプルに書けるということに気づいたので、実装例を紹介します。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;実装例&quot;&gt;実装例&lt;&#x2F;h2&gt;
&lt;p&gt;以下が switch 文のフォールスルーを使った「日付を入力するとその日がその年の何日目かを出力するプログラム」の実装例です。（うるう年は考慮していません）&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-c &quot;&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;#include &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;lt;stdio.h&amp;gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span&gt;main(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;void&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; month, day;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; count = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    scanf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d %d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;month, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;day);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;switch &lt;&#x2F;span&gt;&lt;span&gt;(month - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;11&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;28&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;case &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;: count += &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;31&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    count += day;
&lt;&#x2F;span&gt;&lt;span&gt;    printf(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;%d&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e3bbab;&quot;&gt;\n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, count);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;# 入力
&lt;&#x2F;span&gt;&lt;span&gt;12 31
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;# 出力
&lt;&#x2F;span&gt;&lt;span&gt;365
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;フォールスルーを使ったおかげで、結構シンプルに実装できているのではないでしょうか。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;補足：配列や繰り返しを使わなかった理由&quot;&gt;補足：配列や繰り返しを使わなかった理由&lt;&#x2F;h2&gt;
&lt;p&gt;この実装は大学の課題で作成したあるプログラムの一部で使用したものなんですが、大学の授業ではまだ配列や繰り返しを扱っておらず、課題でそれらの機能を使ってはいけないという縛りがあったため、配列や繰り返しは使いませんでした。&lt;&#x2F;p&gt;
&lt;p&gt;結果的にこの縛りのおかげでフォールスルーの面白い使い方を見つけられたので良かったんではないでしょうか。（何目線）&lt;&#x2F;p&gt;
&lt;h2 id=&quot;あとがき&quot;&gt;あとがき&lt;&#x2F;h2&gt;
&lt;p&gt;プログラムを書くのって面白いですね！&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="ja">
		<title>ブログ始めました</title>
		<published>2021-10-10T00:00:00+00:00</published>
		<updated>2021-10-10T00:00:00+00:00</updated>
		<link href="https://ihoronir.github.io/entries/QiKbRkRE/" type="text/html"/>
		<id>https://ihoronir.github.io/entries/QiKbRkRE/</id>
		<content type="html">&lt;h2 id=&quot;まえがき&quot;&gt;まえがき&lt;&#x2F;h2&gt;
&lt;p&gt;こんにちは！ Ihoronir という者です。というわけで、記事タイトルにもある通り、ブログを始めました〜！！（パチパチ👏）&lt;br&gt;
と言ってもブログに何を書けばいいのか全然わからなくて手探り状態って感じですが、ぼちぼち更新していこうと思ってます！&lt;&#x2F;p&gt;
&lt;p&gt;この記事がこのブログの最初の記事になるので、とりあえず簡単な自己紹介と、あとはなんでブログを始めたのかについて書こうと思います！面白くはないと思うけど良かったら読んでみてね！&lt;&#x2F;p&gt;
&lt;h2 id=&quot;自己紹介？&quot;&gt;自己紹介？&lt;&#x2F;h2&gt;
&lt;p&gt;改めましてこんにちは！ Ihoronir です！肩書は…学生です！いや知るかよ！どうでもええわ！って感じだと思いますが、まあとりあえずそんな感じです！（そんな感じって何）&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ブログを始めた理由&quot;&gt;ブログを始めた理由&lt;&#x2F;h2&gt;
&lt;p&gt;ブログって自分の思ったこととかを適当に書いてそれを世界中に向けて発信できて、すごくグローバル（？）ですよね！これからはグローバルの時代なんで（？）ブログを書いてグローバルな人間になろうと思った次第です！&lt;&#x2F;p&gt;
&lt;p&gt;目指せグローバル！&lt;&#x2F;p&gt;
&lt;p&gt;というのは今考えた適当な理由で、実際のところは Zola という静的サイトジェネレーターを試してみたかった、というのが本当の理由です。使ってみたら結構使いやすかったので、オススメです！&lt;&#x2F;p&gt;
&lt;h2 id=&quot;あとがき&quot;&gt;あとがき&lt;&#x2F;h2&gt;
&lt;p&gt;というわけで以上がこのブログの最初の記事でした！&lt;strong&gt;いかがでしたか？&lt;&#x2F;strong&gt;（いかがでしたか？ではない）&lt;br&gt;
これからこのブログでどんな黒歴史が生まれていくのか、楽しみですね！&lt;br&gt;
それではみなさん良い一日を！&lt;&#x2F;p&gt;
</content>
	</entry>
</feed>
